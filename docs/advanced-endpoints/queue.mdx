---
title: Queue endpoints
---

# Queue endpoints

Queue endpoints allow you to send webhook events to message queues instead of HTTP endpoints. Currently, AWS SQS is supported.

This is useful for queuing payloads in a message queue without your customers having to set up any listener endpoint or write any glue code.



## Configuration

Create a queue endpoint by providing your SQS queue URL and AWS credentials. Events will be batched and sent to your queue according to your sink's batch configuration.

## Transformation

Queue endpoints use transformations to format events for the target queue. Here's the transformation function for SQS:

```javascript
/**
 * @param input - The input object
 * @param input.events - The array of events in the batch. The number of events in the batch is capped by the Sink's batch size.
 * @param input.events[].payload - The message payload (string or JSON).
 * @param input.events[].eventType - The message event type (string).
 *
 * @returns Object containing the response.
 * @returns returns.messages - The array of SQS messages to send to the SQS queue.
 * @returns returns.messages[].payload - The payload of the message (string).
 */
function handler(input) {
  const messages = input.events.map((event) => ({
    payload: event.payload,
  }));

  return {
    messages,
  };
}
```
For example, if the endpoint receives the following events:

```json
{
  "eventType": "user.created",
  "payload": "{\"email\": \"joe@enterprise.io\"}"
}
```

```json
{
  "eventType": "user.login", 
  "payload": "{\"id\": 12, \"timestamp\": \"2025-07-21T14:23:17.861Z\"}"
}
```

The default transformation would produce these SQS messages:

```json
{
  "messages": [
    {
      "payload": "{\"email\": \"joe@enterprise.io\"}"
    },
    {
      "payload": "{\"id\": 12, \"timestamp\": \"2025-07-21T14:23:17.861Z\"}"
    }
  ]
}
```

To include the eventType in the payload:
```javascript
function handler(input) {
  const messages = input.events.map((event) => ({
    payload: JSON.stringify({
      eventType: event.eventType,
      data: event.payload
    }),
  }));

  return {
    messages,
  };
}
```

This would produce:

```json
{
  "messages": [
    {
      "payload": "{\"eventType\":\"user.created\",\"data\":\"{\\\"email\\\": \\\"joe@enterprise.io\\\"}\"}"
    },
    {
      "payload": "{\"eventType\":\"user.login\",\"data\":\"{\\\"id\\\": 12, \\\"timestamp\\\": \\\"2025-07-21T14:23:17.861Z\\\"}\"}"
    }
  ]
}
```

